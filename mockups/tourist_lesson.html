<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FaiconLingo - Tourist Lesson</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

    <div class="mobile-frame">
        <div class="notch"></div>
        <div class="status-bar">
            <span>9:42</span>
            <div class="flex-row" style="gap: 6px;">
                <i class="fas fa-signal"></i>
                <i class="fas fa-wifi"></i>
                <i class="fas fa-battery-full"></i>
            </div>
        </div>

        <div class="app-container" style="background: #f8f9fa;">

            <!-- Top Bar -->
            <div class="flex-between" style="padding: 16px 20px;">
                <a href="tourist_path.html" style="color: inherit;"><i class="fas fa-times"
                        style="font-size: 20px; color: var(--text-muted);"></i></a>
                <div style="flex: 1; margin: 0 20px;">
                    <div style="height: 16px; background: #e5e5e5; border-radius: 8px; overflow: hidden;">
                        <div id="progress-bar-inner"
                            style="width: 20%; height: 100%; background: #1e88e5; border-radius: 8px; transition: width 0.5s cubic-bezier(0.18, 0.89, 0.32, 1.28);">
                            <div
                                style="width: 100%; height: 4px; background: rgba(255,255,255,0.3); margin-top: 4px; border-radius: 4px;">
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Cannot listen right now button -->
                <button
                    style="border: none; background: transparent; color: #1e88e5; font-weight: 700; font-size: 13px;">Cannot
                    Listen</button>
            </div>

            <!-- Context Info -->
            <div style="padding: 0 20px; text-align: center; margin-bottom: 24px;">
                <h2 style="font-size: 22px; color: #3c3c3c;">Negotiating Fare</h2>
                <p style="font-size: 14px; color: #777;">Translate the phrase</p>
            </div>

            <!-- Question Area -->
            <div style="padding: 0 20px; display: flex; flex-direction: column; gap: 20px;">

                <div
                    style="display: flex; gap: 12px; justify-content: center; align-items: center; margin-bottom: 20px;">
                    <button class="btn"
                        style="width: 48px; height: 48px; background: #1e88e5; border-radius: 50%; border: none; color: white; display: flex; align-items: center; justify-content: center; box-shadow: var(--shadow-sm); padding: 0;">
                        <i class="fas fa-volume-up" style="font-size: 20px;"></i>
                    </button>
                    <h3 style="font-size: 24px; color: #333;">Muleta shani?</h3>
                </div>

                <div style="display: flex; flex-direction: column; gap: 16px;">
                    <div class="answer-slot-large" id="answer-box"
                        style="width: 100%; min-height: 50px; border-bottom: 2px solid #ccc; padding: 10px; font-size: 18px; color: #333; font-weight: 600; text-align: center;">
                        <!-- Slot for word -->
                    </div>
                </div>

            </div>

            <!-- Interaction Area (Bottom Fixed) -->
            <div
                style="position: absolute; bottom: 0; width: 100%; background: white; border-top: 2px solid #e5e5e5; padding: 24px 24px 40px 24px;">

                <!-- Word Bank -->
                <div style="display: flex; gap: 12px; justify-content: center; margin-bottom: 32px; flex-wrap: wrap;">
                    <button class="word-bank-btn tourist-btn" data-word="How">How</button>
                    <button class="word-bank-btn tourist-btn" data-word="much">much</button>
                    <button class="word-bank-btn tourist-btn" data-word="where">where</button>
                    <button class="word-bank-btn tourist-btn" data-word="is">is</button>
                    <button class="word-bank-btn tourist-btn" data-word="it">it</button>
                    <button class="word-bank-btn tourist-btn" data-word="?">?</button>
                </div>

                <!-- Check Button -->
                <button id="check-tourist-btn" class="btn btn-disabled" style="background: #e0e0e0;"
                    disabled>Check</button>

            </div>

            <!-- Feedback Bottom Sheet -->
            <div id="feedback-sheet" class="feedback-sheet hidden">
                <div class="feedback-header">
                    <div class="feedback-icon-circle">
                        <i id="feedback-icon" class="fas fa-check" style="font-size: 20px;"></i>
                    </div>
                    <div style="flex: 1;">
                        <h3 id="feedback-title" style="margin: 0; font-size: 20px;">Correct!</h3>
                        <p id="feedback-message" style="margin: 0; font-size: 14px; display: none;"></p>
                    </div>
                </div>
                <button id="feedback-action-btn" class="btn btn-correct"
                    onclick="window.location.href='lesson_complete.html'">Continue</button>
            </div>

        </div>
    </div>

    <script>
        // Tourist Lesson Logic (Inline for mockup)
        const wordButtons = document.querySelectorAll('.tourist-btn');
        const answerBox = document.getElementById('answer-box');
        const checkBtn = document.getElementById('check-tourist-btn');
        const sheet = document.getElementById('feedback-sheet');
        let selectedWords = [];

        // Correct answer: How much is it ?
        const expectedAnswer = "How much is it ?";

        wordButtons.forEach(btn => {
            btn.addEventListener('click', () => {
                if (btn.classList.contains('selected-disabled')) {
                    // Remove
                    btn.classList.remove('selected-disabled');
                    btn.style.opacity = '1';
                    selectedWords = selectedWords.filter(w => w !== btn.innerText);
                } else {
                    // Add
                    btn.classList.add('selected-disabled');
                    btn.style.opacity = '0.3';
                    selectedWords.push(btn.innerText);
                }

                answerBox.innerText = selectedWords.join(' ');

                if (selectedWords.length > 0) {
                    checkBtn.disabled = false;
                    checkBtn.style.background = '#1e88e5';
                    checkBtn.style.color = 'white';
                    checkBtn.style.boxShadow = '0 4px 0 #1565c0';
                } else {
                    checkBtn.disabled = true;
                    checkBtn.style.background = '#e0e0e0';
                    checkBtn.style.color = '#999';
                    checkBtn.style.boxShadow = 'none';
                }
            });
        });

        checkBtn.addEventListener('click', () => {
            if (selectedWords.length === 0) return;
            const attempt = selectedWords.join(' ').trim();
            const correct = attempt.includes('How') && attempt.includes('much'); // fuzzy check for mockup

            sheet.classList.remove('hidden');
            sheet.classList.add('visible');

            if (correct) {
                sheet.classList.add('sheet-correct');
                document.getElementById('feedback-title').innerText = "Excellent!";
                document.getElementById('feedback-title').style.color = '#58a700';
            } else {
                sheet.classList.add('sheet-incorrect');
                document.getElementById('feedback-title').innerText = "Correct answer:";
                document.getElementById('feedback-message').innerText = "How much is it?";
                document.getElementById('feedback-message').style.display = "block";
                document.getElementById('feedback-title').style.color = '#ea2b2b';
                document.getElementById('feedback-action-btn').classList.replace('btn-correct', 'btn-incorrect');
            }
        });
    </script>
</body>

</html>